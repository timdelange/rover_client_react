import _ from 'lodash';

const IMAGE_OF_PICARD = "data:image/jpeg;base64,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"

RoverCamera =  {
  takePicture: (cb, options = {}) => {
    if (_.has(navigator,'camera')) {
      navigator.camera.getPicture(onSuccess, onFail, { quality: 25,
        quality: options.quality || 49,
        targetWidth: options.width || 1654,
        targetHeight: options.height || 2339,
        allowEdit: true,
        correctOrientation: true,
        destinationType: Camera.DestinationType.DATA_URL
      });
    } else {
      //no camera api, so fake /mock  it with picard for testing.
      cb(null, IMAGE_OF_PICARD);
      console.log('click');
    }

    function onSuccess(imageData) {
       cb(null,"data:image/jpeg;base64," + imageData);
    }

    function onFail(message) {
      cb('Failed because: ' + message, null);
    }
  }
};

export default RoverCamera;
